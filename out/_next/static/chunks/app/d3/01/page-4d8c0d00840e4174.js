(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1816],{5577:function(r,n,e){Promise.resolve().then(e.bind(e,4705))},4705:function(r,n,e){"use strict";e.r(n),e.d(n,{default:function(){return C}});var t=e(7437);function i(r){var n=0,e=r.children,t=e&&e.length;if(t)for(;--t>=0;)n+=e[t].value;else n=1;r.value=n}function o(r,n){r instanceof Map?(r=[void 0,r],void 0===n&&(n=a)):void 0===n&&(n=u);for(var e,t,i,o,c,l=new h(r),s=[l];e=s.pop();)if((i=n(e.data))&&(c=(i=Array.from(i)).length))for(e.children=i,o=c-1;o>=0;--o)s.push(t=i[o]=new h(i[o])),t.parent=e,t.depth=e.depth+1;return l.eachBefore(f)}function u(r){return r.children}function a(r){return Array.isArray(r)?r[1]:null}function c(r){void 0!==r.data.value&&(r.value=r.data.value),r.data=r.data.data}function f(r){var n=0;do r.height=n;while((r=r.parent)&&r.height<++n)}function h(r){this.data=r,this.depth=this.height=0,this.parent=null}function l(){return 0}function s(r,n){var e=r.r-n.r,t=n.x-r.x,i=n.y-r.y;return e<0||e*e<t*t+i*i}function p(r,n){var e=r.r-n.r+1e-9*Math.max(r.r,n.r,1),t=n.x-r.x,i=n.y-r.y;return e>0&&e*e>t*t+i*i}function d(r,n){for(var e=0;e<n.length;++e)if(!p(r,n[e]))return!1;return!0}function x(r,n){var e=r.x,t=r.y,i=r.r,o=n.x,u=n.y,a=n.r,c=o-e,f=u-t,h=a-i,l=Math.sqrt(c*c+f*f);return{x:(e+o+c/l*h)/2,y:(t+u+f/l*h)/2,r:(l+i+a)/2}}function v(r,n,e){var t=r.x,i=r.y,o=r.r,u=n.x,a=n.y,c=n.r,f=e.x,h=e.y,l=e.r,s=t-u,p=t-f,d=i-a,x=i-h,v=c-o,y=l-o,m=t*t+i*i-o*o,_=m-u*u-a*a+c*c,g=m-f*f-h*h+l*l,w=p*d-s*x,z=(d*g-x*_)/(2*w)-t,A=(x*v-d*y)/w,M=(p*_-s*g)/(2*w)-i,b=(s*y-p*v)/w,B=A*A+b*b-1,k=2*(o+z*A+M*b),j=z*z+M*M-o*o,E=-(Math.abs(B)>1e-6?(k+Math.sqrt(k*k-4*B*j))/(2*B):j/k);return{x:t+z+A*E,y:i+M+b*E,r:E}}function y(r,n,e){var t,i,o,u,a=r.x-n.x,c=r.y-n.y,f=a*a+c*c;f?(i=n.r+e.r,i*=i,u=r.r+e.r,i>(u*=u)?(t=(f+u-i)/(2*f),o=Math.sqrt(Math.max(0,u/f-t*t)),e.x=r.x-t*a-o*c,e.y=r.y-t*c+o*a):(t=(f+i-u)/(2*f),o=Math.sqrt(Math.max(0,i/f-t*t)),e.x=n.x+t*a-o*c,e.y=n.y+t*c+o*a)):(e.x=n.x+e.r,e.y=n.y)}function m(r,n){var e=r.r+n.r-1e-6,t=n.x-r.x,i=n.y-r.y;return e>0&&e*e>t*t+i*i}function _(r){var n=r._,e=r.next._,t=n.r+e.r,i=(n.x*e.r+e.x*n.r)/t,o=(n.y*e.r+e.y*n.r)/t;return i*i+o*o}function g(r){this._=r,this.next=null,this.previous=null}function w(r){return Math.sqrt(r.value)}function z(r){return function(n){n.children||(n.r=Math.max(0,+r(n)||0))}}function A(r,n,e){return function(t){if(i=t.children){var i,o,u,a=i.length,c=r(t)*n||0;if(c)for(o=0;o<a;++o)i[o].r+=c;if(u=function(r,n){var e,t,i,o,u,a,c,f,h,l,w,z;if(!(o=(r="object"==typeof(z=r)&&"length"in z?z:Array.from(z)).length))return 0;if((e=r[0]).x=0,e.y=0,!(o>1))return e.r;if(t=r[1],e.x=-t.r,t.x=e.r,t.y=0,!(o>2))return e.r+t.r;y(t,e,i=r[2]),e=new g(e),t=new g(t),i=new g(i),e.next=i.previous=t,t.next=e.previous=i,i.next=t.previous=e;r:for(c=3;c<o;++c){y(e._,t._,i=r[c]),i=new g(i),f=t.next,h=e.previous,l=t._.r,w=e._.r;do if(l<=w){if(m(f._,i._)){t=f,e.next=t,t.previous=e,--c;continue r}l+=f._.r,f=f.next}else{if(m(h._,i._)){(e=h).next=t,t.previous=e,--c;continue r}w+=h._.r,h=h.previous}while(f!==h.next);for(i.previous=e,i.next=t,e.next=t.previous=t=i,u=_(e);(i=i.next)!==t;)(a=_(i))<u&&(e=i,u=a);t=e.next}for(e=[t._],i=t;(i=i.next)!==t;)e.push(i._);for(c=0,i=function(r,n){for(var e,t,i=0,o=(r=function(r,n){let e=r.length,t,i;for(;e;)i=n()*e--|0,t=r[e],r[e]=r[i],r[i]=t;return r}(Array.from(r),n)).length,u=[];i<o;)e=r[i],t&&p(t,e)?++i:(t=function(r){switch(r.length){case 1:var n;return{x:(n=r[0]).x,y:n.y,r:n.r};case 2:return x(r[0],r[1]);case 3:return v(r[0],r[1],r[2])}}(u=function(r,n){var e,t;if(d(n,r))return[n];for(e=0;e<r.length;++e)if(s(n,r[e])&&d(x(r[e],n),r))return[r[e],n];for(e=0;e<r.length-1;++e)for(t=e+1;t<r.length;++t)if(s(x(r[e],r[t]),n)&&s(x(r[e],n),r[t])&&s(x(r[t],n),r[e])&&d(v(r[e],r[t],n),r))return[r[e],r[t],n];throw Error()}(u,e)),i=0);return t}(e,n);c<o;++c)e=r[c],e.x-=i.x,e.y-=i.y;return i.r}(i,e),c)for(o=0;o<a;++o)i[o].r-=c;t.r=u+c}}}function M(r){return function(n){var e=n.parent;n.r*=r,e&&(n.x=e.x+r*n.x,n.y=e.y+r*n.y)}}function b(r,n){return r.parent===n.parent?1:2}function B(r){var n=r.children;return n?n[0]:r.t}function k(r){var n=r.children;return n?n[n.length-1]:r.t}function j(r,n){this._=r,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}h.prototype=o.prototype={constructor:h,count:function(){return this.eachAfter(i)},each:function(r,n){let e=-1;for(let t of this)r.call(n,t,++e,this);return this},eachAfter:function(r,n){for(var e,t,i,o=this,u=[o],a=[],c=-1;o=u.pop();)if(a.push(o),e=o.children)for(t=0,i=e.length;t<i;++t)u.push(e[t]);for(;o=a.pop();)r.call(n,o,++c,this);return this},eachBefore:function(r,n){for(var e,t,i=this,o=[i],u=-1;i=o.pop();)if(r.call(n,i,++u,this),e=i.children)for(t=e.length-1;t>=0;--t)o.push(e[t]);return this},find:function(r,n){let e=-1;for(let t of this)if(r.call(n,t,++e,this))return t},sum:function(r){return this.eachAfter(function(n){for(var e=+r(n.data)||0,t=n.children,i=t&&t.length;--i>=0;)e+=t[i].value;n.value=e})},sort:function(r){return this.eachBefore(function(n){n.children&&n.children.sort(r)})},path:function(r){for(var n=this,e=function(r,n){if(r===n)return r;var e=r.ancestors(),t=n.ancestors(),i=null;for(r=e.pop(),n=t.pop();r===n;)i=r,r=e.pop(),n=t.pop();return i}(n,r),t=[n];n!==e;)t.push(n=n.parent);for(var i=t.length;r!==e;)t.splice(i,0,r),r=r.parent;return t},ancestors:function(){for(var r=this,n=[r];r=r.parent;)n.push(r);return n},descendants:function(){return Array.from(this)},leaves:function(){var r=[];return this.eachBefore(function(n){n.children||r.push(n)}),r},links:function(){var r=this,n=[];return r.each(function(e){e!==r&&n.push({source:e.parent,target:e})}),n},copy:function(){return o(this).eachBefore(c)},[Symbol.iterator]:function*(){var r,n,e,t,i=this,o=[i];do for(r=o.reverse(),o=[];i=r.pop();)if(yield i,n=i.children)for(e=0,t=n.length;e<t;++e)o.push(n[e]);while(o.length)}},j.prototype=Object.create(h.prototype);let E={name:"Animals",children:[{name:"Fish",children:[{name:"Marine",children:[{name:"Hailbut"}]},{name:"Fresh Water",children:[{name:"Rainbow trout"}]}]},{name:"Mammals",children:[{name:"Dog"},{name:"Cat"}]}]},O=()=>o(E).sum(()=>1),N=(function(){var r=null,n=1,e=1,t=l;function i(i){let o;let u=(o=1,()=>(o=(1664525*o+1013904223)%4294967296)/4294967296);return i.x=n/2,i.y=e/2,r?i.eachBefore(z(r)).eachAfter(A(t,.5,u)).eachBefore(M(1)):i.eachBefore(z(w)).eachAfter(A(l,1,u)).eachAfter(A(t,i.r/Math.min(n,e),u)).eachBefore(M(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(r=null==n?null:function(r){if("function"!=typeof r)throw Error();return r}(n),i):r},i.size=function(r){return arguments.length?(n=+r[0],e=+r[1],i):[n,e]},i.padding=function(r){var n;return arguments.length?(t="function"==typeof r?r:(n=+r,function(){return n}),i):t},i})().size([500,500]).padding(20),R=N(O()),S=(function(){var r=b,n=1,e=1,t=null;function i(i){var c=function(r){for(var n,e,t,i,o,u=new j(r,0),a=[u];n=a.pop();)if(t=n._.children)for(n.children=Array(o=t.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new j(t[i],i)),e.parent=n;return(u.parent=new j(null,0)).children=[u],u}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(u),t)i.eachBefore(a);else{var f=i,h=i,l=i;i.eachBefore(function(r){r.x<f.x&&(f=r),r.x>h.x&&(h=r),r.depth>l.depth&&(l=r)});var s=f===h?1:r(f,h)/2,p=s-f.x,d=n/(h.x+s+p),x=e/(l.depth||1);i.eachBefore(function(r){r.x=(r.x+p)*d,r.y=r.depth*x})}return i}function o(n){var e=n.children,t=n.parent.children,i=n.i?t[n.i-1]:null;if(e){!function(r){for(var n,e=0,t=0,i=r.children,o=i.length;--o>=0;)n=i[o],n.z+=e,n.m+=e,e+=n.s+(t+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+r(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+r(n._,i._));n.parent.A=function(n,e,t){if(e){for(var i,o,u,a=n,c=n,f=e,h=a.parent.children[0],l=a.m,s=c.m,p=f.m,d=h.m;f=k(f),a=B(a),f&&a;)h=B(h),(c=k(c)).a=n,(u=f.z+p-a.z-l+r(f._,a._))>0&&(function(r,n,e){var t=e/(n.i-r.i);n.c-=t,n.s+=e,r.c+=t,n.z+=e,n.m+=e}((i=f,o=t,i.a.parent===n.parent?i.a:o),n,u),l+=u,s+=u),p+=f.m,l+=a.m,d+=h.m,s+=c.m;f&&!k(c)&&(c.t=f,c.m+=p-s),a&&!B(h)&&(h.t=a,h.m+=l-d,t=n)}return t}(n,i,n.parent.A||t[0])}function u(r){r._.x=r.z+r.parent.m,r.m+=r.parent.m}function a(r){r.x*=n,r.y=r.depth*e}return i.separation=function(n){return arguments.length?(r=n,i):r},i.size=function(r){return arguments.length?(t=!1,n=+r[0],e=+r[1],i):t?null:[n,e]},i.nodeSize=function(r){return arguments.length?(t=!0,n=+r[0],e=+r[1],i):t?[n,e]:null},i})().size([500,500]),q=S(O());console.log("animalsTree:\n"),console.log(q.descendants());var C=()=>{let r=0;R.descendants().map(n=>{let{x:e,y:i,r:o}=n;return console.log(e,i,o),r+=1,(0,t.jsx)("circle",{cx:e,cy:i,fill:"transparent",stroke:"black"},r)});let n=q.descendants().map(n=>{let{x:e,y:i}=n;return console.log(e,i),r+=1,(0,t.jsx)("circle",{cx:e,cy:i,r:10,stroke:"black"},r)});return console.log(n),(0,t.jsxs)("main",{className:"min-h-screen flex flex-col  items-center ",children:[(0,t.jsx)("h1",{className:"text-3xl text-center m-10",children:"Morphing Viz with D3.js & React"}),(0,t.jsx)("svg",{width:500,height:500,children:(0,t.jsx)("g",{transform:"translate(0,10)",children:n})})]})}},622:function(r,n,e){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=e(2265),i=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(r,n,e){var t,c={},f=null,h=null;for(t in void 0!==e&&(f=""+e),void 0!==n.key&&(f=""+n.key),void 0!==n.ref&&(h=n.ref),n)o.call(n,t)&&!a.hasOwnProperty(t)&&(c[t]=n[t]);if(r&&r.defaultProps)for(t in n=r.defaultProps)void 0===c[t]&&(c[t]=n[t]);return{$$typeof:i,type:r,key:f,ref:h,props:c,_owner:u.current}}n.jsx=c,n.jsxs=c},7437:function(r,n,e){"use strict";r.exports=e(622)}},function(r){r.O(0,[2971,596,1744],function(){return r(r.s=5577)}),_N_E=r.O()}]);